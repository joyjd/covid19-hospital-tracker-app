(this["webpackJsonpcovid19-hospital-tracker-app"]=this["webpackJsonpcovid19-hospital-tracker-app"]||[]).push([[0],{255:function(e,t,a){e.exports=a(591)},259:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},280:function(e,t,a){},283:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},587:function(e,t,a){},588:function(e,t,a){},589:function(e,t,a){},590:function(e,t,a){},591:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(9),s=a.n(o),i=(a(259),a(21)),r=a(22),c=a(25),d=a(23),m=(a(260),a(670)),p=a(80),u=a(663),h=a(651),g=a(232),_=a.n(g),f=a(669),y=a(646),v=a(668),E=a(76),b=(a(261),a(115)),C={apiKey:"AIzaSyArulgFkLD1tIDxd0ia5YDtjMd53J8Zuwc"},N=(a(262),{position:"relative",width:"inherit",height:"inherit"}),k=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.call(this)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"mapHolder"},l.a.createElement(b.Map,{google:this.props.google,zoom:14,containerStyle:N,initialCenter:{lat:this.props.currentLat,lng:this.props.currentLong}},l.a.createElement(b.Marker,null)))}}]),a}(l.a.Component),L=Object(b.GoogleApiWrapper)({apiKey:C.apiKey})(k),S=a(148),T=a(206),O=a.n(T),H=a(207),D=a.n(H),w=(a(280),function(e){return l.a.createElement("div",{className:"staticTagHolderContainer"},e.locationTags.map((function(e,t){return l.a.createElement("div",{key:t,className:"staticKeyTags"},e)})))}),I="&key="+C.apiKey,j={compound_code:"G94X+27 Kolkata, West Bengal, India",global_code:"7MJCG94X+27"},A=[{address_components:[{long_name:"164",short_name:"164",types:["premise"]},{long_name:"North Purbachal",short_name:"North Purbachal",types:["political","sublocality","sublocality_level_2"]},{long_name:"Haltu",short_name:"Haltu",types:["political","sublocality","sublocality_level_1"]},{long_name:"Kolkata",short_name:"Kolkata",types:["locality","political"]},{long_name:"Kolkata",short_name:"Kolkata",types:["administrative_area_level_2","political"]},{long_name:"West Bengal",short_name:"WB",types:["administrative_area_level_1","political"]},{long_name:"India",short_name:"IN",types:["country","political"]},{long_name:"700078",short_name:"700078",types:["postal_code"]}],formatted_address:"164, North Purbachal, Haltu, Kolkata, West Bengal 700078, India",geometry:{location:{lat:22.5049706,lng:88.398302},location_type:"ROOFTOP",viewport:{northeast:{lat:22.5063195802915,lng:88.39965098029151},southwest:{lat:22.5036216197085,lng:88.39695301970849}}},place_id:"ChIJGw3mY1dxAjoRZK3Txut_nxM",plus_code:{compound_code:"G93X+X8 Haltu, Kolkata, West Bengal, India",global_code:"7MJCG93X+X8"},types:["street_address"]},{address_components:[{long_name:"Purbachal Kalitala Road",short_name:"Purbachal Kalitala Rd",types:["route"]},{long_name:"North Purbachal",short_name:"North Purbachal",types:["political","sublocality","sublocality_level_2"]},{long_name:"Haltu",short_name:"Haltu",types:["political","sublocality","sublocality_level_1"]},{long_name:"Kolkata",short_name:"Kolkata",types:["locality","political"]},{long_name:"Kolkata",short_name:"Kolkata",types:["administrative_area_level_2","political"]},{long_name:"West Bengal",short_name:"WB",types:["administrative_area_level_1","political"]},{long_name:"India",short_name:"IN",types:["country","political"]},{long_name:"700078",short_name:"700078",types:["postal_code"]}],formatted_address:"Purbachal Kalitala Rd, North Purbachal, Haltu, Kolkata, West Bengal 700078, India",geometry:{bounds:{northeast:{lat:22.5050206,lng:88.3985624},southwest:{lat:22.5045801,lng:88.3984426}},location:{lat:22.5048004,lng:88.39850249999999},location_type:"GEOMETRIC_CENTER",viewport:{northeast:{lat:22.50614933029151,lng:88.3998514802915},southwest:{lat:22.5034513697085,lng:88.39715351970848}}},place_id:"ChIJ1ZTDYldxAjoRTEKQgx0Tkg8",types:["route"]},{address_components:[{long_name:"North Purbachal",short_name:"North Purbachal",types:["political","sublocality","sublocality_level_2"]},{long_name:"Haltu",short_name:"Haltu",types:["political","sublocality","sublocality_level_1"]},{long_name:"Kolkata",short_name:"Kolkata",types:["locality","political"]},{long_name:"Kolkata",short_name:"Kolkata",types:["administrative_area_level_2","political"]},{long_name:"West Bengal",short_name:"WB",types:["administrative_area_level_1","political"]},{long_name:"India",short_name:"IN",types:["country","political"]},{long_name:"700078",short_name:"700078",types:["postal_code"]}],formatted_address:"North Purbachal, Haltu, Kolkata, West Bengal 700078, India",geometry:{bounds:{northeast:{lat:22.5096639,lng:88.401423},southwest:{lat:22.5036947,lng:88.39349109999999}},location:{lat:22.506157,lng:88.3979663},location_type:"APPROXIMATE",viewport:{northeast:{lat:22.5096639,lng:88.401423},southwest:{lat:22.5036947,lng:88.39349109999999}}},place_id:"ChIJB8RoqFFxAjoRajxfdhcXbvk",types:["political","sublocality","sublocality_level_2"]},{address_components:[{long_name:"700078",short_name:"700078",types:["postal_code"]},{long_name:"Kolkata",short_name:"Kolkata",types:["locality","political"]},{long_name:"Kolkata",short_name:"Kolkata",types:["administrative_area_level_2","political"]},{long_name:"West Bengal",short_name:"WB",types:["administrative_area_level_1","political"]},{long_name:"India",short_name:"IN",types:["country","political"]}],formatted_address:"Kolkata, West Bengal 700078, India",geometry:{bounds:{northeast:{lat:22.516262,lng:88.40159829999999},southwest:{lat:22.4990563,lng:88.37711329999999}},location:{lat:22.5074344,lng:88.3872835},location_type:"APPROXIMATE",viewport:{northeast:{lat:22.516262,lng:88.40159829999999},southwest:{lat:22.4990563,lng:88.37711329999999}}},place_id:"ChIJR9bwAE9xAjoRQzzzqQMLkNE",types:["postal_code"]},{address_components:[{long_name:"Haltu",short_name:"Haltu",types:["political","sublocality","sublocality_level_1"]},{long_name:"Kolkata",short_name:"Kolkata",types:["locality","political"]},{long_name:"Kolkata",short_name:"Kolkata",types:["administrative_area_level_2","political"]},{long_name:"West Bengal",short_name:"WB",types:["administrative_area_level_1","political"]},{long_name:"India",short_name:"IN",types:["country","political"]}],formatted_address:"Haltu, Kolkata, West Bengal, India",geometry:{bounds:{northeast:{lat:22.5117692,lng:88.401423},southwest:{lat:22.495561,lng:88.3770394}},location:{lat:22.5048386,lng:88.388459},location_type:"APPROXIMATE",viewport:{northeast:{lat:22.5117692,lng:88.401423},southwest:{lat:22.495561,lng:88.3770394}}},place_id:"ChIJkzUK5UhxAjoRsV6K-TDTuH8",types:["political","sublocality","sublocality_level_1"]},{address_components:[{long_name:"Kolkata",short_name:"Kolkata",types:["administrative_area_level_2","political"]},{long_name:"West Bengal",short_name:"WB",types:["administrative_area_level_1","political"]},{long_name:"India",short_name:"IN",types:["country","political"]}],formatted_address:"Kolkata, West Bengal, India",geometry:{bounds:{northeast:{lat:22.6312601,lng:88.45716999999999},southwest:{lat:22.45139,lng:88.23506990000001}},location:{lat:22.5402602,lng:88.38219889999999},location_type:"APPROXIMATE",viewport:{northeast:{lat:22.6312601,lng:88.45716999999999},southwest:{lat:22.45139,lng:88.23506990000001}}},place_id:"ChIJyxufaAB3AjoRzhRx7JWHIFw",types:["administrative_area_level_2","political"]},{address_components:[{long_name:"Kolkata",short_name:"Kolkata",types:["locality","political"]},{long_name:"West Bengal",short_name:"WB",types:["administrative_area_level_1","political"]},{long_name:"India",short_name:"IN",types:["country","political"]}],formatted_address:"Kolkata, West Bengal, India",geometry:{bounds:{northeast:{lat:23.0083628,lng:88.5428696},southwest:{lat:22.3436288,lng:88.1165879}},location:{lat:22.572646,lng:88.36389500000001},location_type:"APPROXIMATE",viewport:{northeast:{lat:23.0083628,lng:88.5428696},southwest:{lat:22.3436288,lng:88.1165879}}},place_id:"ChIJZ_YISduC-DkRvCxsj-Yw40M",types:["locality","political"]},{address_components:[{long_name:"West Bengal",short_name:"WB",types:["administrative_area_level_1","political"]},{long_name:"India",short_name:"IN",types:["country","political"]}],formatted_address:"West Bengal, India",geometry:{bounds:{northeast:{lat:27.220707,lng:89.880039},southwest:{lat:21.524921,lng:85.82095799999999}},location:{lat:22.9867569,lng:87.8549755},location_type:"APPROXIMATE",viewport:{northeast:{lat:27.220707,lng:89.880039},southwest:{lat:21.524921,lng:85.82095799999999}}},place_id:"ChIJh-iXE_8W-jkRCqLnwz06VHE",types:["administrative_area_level_1","political"]},{address_components:[{long_name:"India",short_name:"IN",types:["country","political"]}],formatted_address:"India",geometry:{bounds:{northeast:{lat:35.513327,lng:97.39535869999999},southwest:{lat:6.4626999,lng:68.1097}},location:{lat:20.593684,lng:78.96288},location_type:"APPROXIMATE",viewport:{northeast:{lat:35.513327,lng:97.39535869999999},southwest:{lat:6.4626999,lng:68.1097}}},place_id:"ChIJkbeSa_BfYzARphNChaFPjNc",types:["country","political"]}],B=function(e,t){var a;return console.log("Communication fetched=="+e),a=""!=t?e+t+I:e,fetch("https://cors-anywhere.herokuapp.com/"+a).then((function(e){return e.json()}))},x={getUserCurrentLocation:"https://maps.googleapis.com/maps/api/geocode/json?latlng=",getPlaceDetails:"https://maps.googleapis.com/maps/api/place/findplacefromtext/json?input=",getHospitalCompleteDetails:"https://maps.googleapis.com/maps/api/place/details/json?place_id=",getCoronaUpdate:"https://api.covid19india.org/state_district_wise.json",getHospitalCodes:"https://joyjd.github.io/cv19api/hospitalCodes.json",getHospitalDetails:"https://joyjd.github.io/cv19api/hospitalDetails.json"},K=["country"],M=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).ambulanceTravelNode=null,n.getCoronaDetails=function(){B(x.getCoronaUpdate,"").then((function(e){console.log(e);var t=e["West Bengal"].districtData,a=0,l=0,o=0;Object.keys(t).forEach((function(e){a+=t[e].confirmed,l+=t[e].recovered,o+=t[e].deceased})),n.setState({infected:a,recovered:l,deceased:o})}),(function(e){}))},n.handleScroll=function(){var e=window.scrollY,t=(n.myRef.current.scrollTop,e-n.myRef.current.offsetTop);t<-85&&(n.myRef2.current.style.left=t+100+"px"),null!=n.ambulanceTravelNode&&n.ambulanceTravelNode>t?(n.myRef2.current.classList.add("displayAmb2"),n.myRef2.current.classList.remove("displayAmb1")):null!=n.ambulanceTravelNode&&t<0&&(n.myRef2.current.classList.remove("displayAmb2"),n.myRef2.current.classList.add("displayAmb1")),n.ambulanceTravelNode=t},n.prepareLocationTags=function(){var e=n.props.addressDetails.addressComponents.filter((function(e){return!e.types.some((function(e){return K.includes(e)}))}));n.setState({locationTags:Object(E.a)(new Set(e.map((function(e){return e.long_name})).filter((function(e){return"West Bengal"!==e}))))})},n.state={locationTags:[],infected:0,recovered:0,deceased:0},n.myRef=l.a.createRef(),n.myRef2=l.a.createRef(),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.prepareLocationTags(),window.addEventListener("scroll",this.handleScroll),this.getCoronaDetails()}},{key:"render",value:function(){this.state.scrollTop;return l.a.createElement("div",null,l.a.createElement("div",{className:"locationCardContainer"},l.a.createElement(S.a,{elevation:3,className:"transparentBorder"},l.a.createElement("div",{className:"locationTitleContainer"},l.a.createElement("div",{className:"locationIconholder"},l.a.createElement(O.a,{fontSize:"large",color:"primary"})),l.a.createElement("div",{className:"locationDesc"},l.a.createElement("div",null,l.a.createElement(D.a,null)),l.a.createElement("div",null," Your current location :"))),l.a.createElement("div",null,l.a.createElement("div",{className:"AddressContainer"},l.a.createElement("div",{className:"addressHolder"},l.a.createElement("address",null,this.props.addressDetails.formattedAddress)))),l.a.createElement("div",{className:"mapcontainer"},l.a.createElement(S.a,{variant:"outlined",className:"shadowCustom"},l.a.createElement("div",{className:"mapcontainer"},null!=this.props.addressDetails.locationCoordinates_lat?l.a.createElement(L,{currentLat:this.props.addressDetails.locationCoordinates_lat,currentLong:this.props.addressDetails.locationCoordinates_long}):null))),l.a.createElement("div",null,l.a.createElement(w,{locationTags:this.state.locationTags})))),l.a.createElement("div",{className:"amb",ref:this.myRef,onScroll:this.handleScroll},l.a.createElement("div",{className:"bg-move displayAmb1",ref:this.myRef2},l.a.createElement("div",{className:"ambLight light--flash"}),l.a.createElement("div",{className:"coronaDataHolderTitle "},"COVID19 Updates(WB)"),l.a.createElement("div",{className:"dataHolder"},l.a.createElement("div",null,l.a.createElement("div",{className:"dataDiv"},"Infected"),l.a.createElement("div",null,this.state.infected)),l.a.createElement("div",null,l.a.createElement("div",{className:"dataDiv"},"Recovered"),l.a.createElement("div",null,this.state.recovered)),l.a.createElement("div",null,l.a.createElement("div",{className:"dataDiv"},"Death"),l.a.createElement("div",null,this.state.deceased))))))}}]),a}(l.a.Component),P=a(78),F=a(5),R=a(648),W=a(650),Z=a(644),z=a(647),V=a(649),J=a(645),X=a(210),G=a.n(X),U=(a(283),a(208)),Y=a.n(U),q=a(145),Q=a(209),$=a.n(Q),ee=Object(F.a)((function(e){return{head:{backgroundColor:"#1a355c",color:e.palette.common.white},body:{fontSize:14}}}))(Z.a),te=Object(F.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:"#639ab626"}}}}))(J.a),ae=Object(y.a)({table:{}}),ne=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),le=function(e){var t=ae();q.getPreciseDistance({latitude:Number(localStorage.getItem("CV19Tracker_lat")),longitude:Number(localStorage.getItem("CV19Tracker_long"))},{latitude:22.5683058,longitude:88.41166559999999});return l.a.createElement(z.a,{component:S.a,id:"hospitalDetailTable"},l.a.createElement(R.a,{className:t.table,"aria-label":"customized table"},l.a.createElement(V.a,null,l.a.createElement(J.a,{style:{backgroundColor:"red",color:"white"}},l.a.createElement(ee,null,"Covid19 Hospital(",e.selectedHospitalList.length,")"),l.a.createElement(ee,{align:"right"},"Area"),l.a.createElement(ee,{align:"right"},"Vacant Beds*"),l.a.createElement(ee,{align:"right"}))),l.a.createElement(W.a,null,e.selectedHospitalList.map((function(t){return l.a.createElement(te,{key:t.h_name},l.a.createElement(ee,{component:"th",scope:"row"},l.a.createElement("div",{onClick:function(){return e.onClick(t.h_name,t.h_zone,t.c_bed,t.h_dist)}},l.a.createElement("strong",null," ",t.h_name)),l.a.createElement("div",{className:"distanceIndicator"},""!=t.h_loc?l.a.createElement("span",{className:"distanceData"},l.a.createElement(Y.a,null)):l.a.createElement("span",{className:"errorData"},l.a.createElement($.a,null)),l.a.createElement("span",null,""!=t.h_loc?t.h_dist=ne.format(q.getPreciseDistance({latitude:localStorage.getItem("CV19Tracker_lat"),longitude:localStorage.getItem("CV19Tracker_long")},{latitude:t.h_loc.lat,longitude:t.h_loc.lng})/1e3):""),""!=t.h_loc?l.a.createElement("span",null,"Km away"):l.a.createElement("span",null,"Data not known"))),l.a.createElement(ee,{align:"right"},t.h_zone),l.a.createElement(ee,{align:"right"},l.a.createElement("div",{className:"displayFlex"},t.c_bed>2?l.a.createElement("div",{className:"icon-green"},l.a.createElement("i",null)):l.a.createElement("div",{className:"icon-orange"},l.a.createElement("i",null)),l.a.createElement("strong",null,t.c_bed))),l.a.createElement(ee,{align:"right"},l.a.createElement(h.a,{size:"small",color:"secondary","aria-label":"add",onClick:function(){return e.onClick(t.h_name,t.h_zone,t.c_bed,t.h_dist)}},l.a.createElement(G.a,{fontSize:"small"}))))})))),0==e.selectedHospitalList.length?l.a.createElement("div",{className:"noResultFoundcontainer"},"No hospitals found."):l.a.createElement("span",null))},oe=(a(305),a(666)),se=a(595),ie=a(653),re=a(655),ce=a(654),de=a(652),me=a(33);a(306);function pe(e){var t=Object(me.a)(),a=Object(de.a)(t.breakpoints.down("sm"));return l.a.createElement("div",null,l.a.createElement(ie.a,{fullScreen:a,open:e.open,onClose:e.handleClose,"aria-labelledby":"responsive-dialog-title"},l.a.createElement("div",{className:"hospitalImageContainer"},l.a.createElement("div",{className:"hosp_headerTitleContainer"},e.headerTitle)),l.a.createElement(ce.a,null,e.body),l.a.createElement(re.a,null,l.a.createElement(se.a,{autoFocus:!0,onClick:function(){return e.onClose()},color:"primary"},"Close"))))}a(307),a(4);var ue=a(657),he=a(658),ge=a(659),_e=a(676),fe=a(656),ye=a(672),ve=a(213),Ee=a.n(ve),be=a(214),Ce=a.n(be),Ne=a(215),ke=a.n(Ne),Le=a(211),Se=a.n(Le),Te=a(212),Oe=a.n(Te),He=a(116),De=a(218),we=a.n(De),Ie=a(216),je=a.n(Ie),Ae=a(217),Be=a.n(Ae),xe=Object(y.a)((function(e){return{smallGreen:{width:e.spacing(3),height:e.spacing(3),color:"#fff",backgroundColor:He.a[500]}}})),Ke=function(e){var t=xe();return l.a.createElement("div",null,void 0!=e.data?l.a.createElement("div",{className:"ribbon"},l.a.createElement("span",null,l.a.createElement(Se.a,{fontSize:"small"}),e.data.rating)):null,l.a.createElement(S.a,{elevation:3},l.a.createElement("div",{className:"hosp_detailContainer"},l.a.createElement("div",{className:"covidInfoBody"},l.a.createElement("div",null,l.a.createElement(_e.a,{variant:"rounded",className:t.smallGreen},l.a.createElement(Oe.a,{fontSize:"small"}))),l.a.createElement("div",{className:"displayData displayFlex"},l.a.createElement(p.a,null,l.a.createElement("span",{className:"covidNumberLabel"},e.c_bed)),l.a.createElement(p.a,{color:"textSecondary"}," vacant COVID-19 beds *"))),l.a.createElement(p.a,{component:"div",className:"m_t_-5"},l.a.createElement(ye.a,{fontStyle:"italic",m:1},l.a.createElement("div",{className:"disclaimerCovid"},"*data displayed as per WB Government"))),l.a.createElement("div",{className:"hospInfoBody"},void 0!=e.data?l.a.createElement("div",{className:"displayFlex "},l.a.createElement("div",null,l.a.createElement(Ee.a,{fontSize:"small"})),l.a.createElement("div",{className:"displayData"},e.data.formatted_address)):null,void 0!=e.data?l.a.createElement("div",{className:"displayFlex "},l.a.createElement("div",null,l.a.createElement(Ce.a,{fontSize:"small"})),l.a.createElement("div",{className:"displayData"},l.a.createElement("a",{href:"tel:{props.data.formatted_phone_number}"},e.data.formatted_phone_number," ")," / ",l.a.createElement("a",{href:"tel:{props.data.international_phone_number}"}," ",e.data.international_phone_number))):null,void 0!=e.data?l.a.createElement("div",{className:"displayFlex "},l.a.createElement("div",null,l.a.createElement(ke.a,{fontSize:"small"})),l.a.createElement("div",{className:"displayData"},l.a.createElement("a",{href:"{props.data.website}"},e.data.website," "))):null,void 0!=e.data?l.a.createElement("div",{className:"mapcontainerHospital"},l.a.createElement(L,{currentLat:e.data.geometry.location.lat,currentLong:e.data.geometry.location.lng})):null,""!=e.h_dist?l.a.createElement("div",{className:"displayFlex m_tb_5"},l.a.createElement("div",{className:"displayFlex"},l.a.createElement(je.a,null),l.a.createElement(Be.a,{fontSize:"small"})),l.a.createElement("div",{className:"displayData"},"Tentatively ",e.h_dist," Km away from you")):null))),l.a.createElement("div",{className:"dividerCont"},l.a.createElement(fe.a,null)),void 0!=e.data?l.a.createElement("div",null,l.a.createElement("div",{className:"displayFlex m_tb_10"},l.a.createElement("div",null,l.a.createElement(we.a,{fontSize:"small"})),l.a.createElement("div",{className:"displayData fontBold"},"User Reviews")),l.a.createElement("div",{className:"reviewContainer"},e.data.reviews.map((function(e,t){return l.a.createElement(ue.a,{key:t,className:"m_b_6 cardReviews"},l.a.createElement(he.a,{avatar:l.a.createElement(_e.a,{src:e.profile_photo_url}),title:e.author_name,subheader:e.relative_time_description}),l.a.createElement(ge.a,null,l.a.createElement(p.a,{variant:"body2",color:"textSecondary",component:"p"},e.text)))})))):null)},Me=a(229),Pe=a.n(Me),Fe=a(227),Re=a.n(Fe),We=a(671),Ze=a(228),ze=a.n(Ze),Ve=a(660);function Je(e){return l.a.createElement("div",null,l.a.createElement(ie.a,{open:e.open,onClose:e.handleAlertClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(Ve.a,{id:"alert-dialog-title"},e.header),l.a.createElement(ce.a,null,e.body),l.a.createElement(re.a,null,l.a.createElement(se.a,{onClick:function(){return e.onClose(!1)},color:"primary"},"Cancel"),l.a.createElement(se.a,{onClick:function(){return e.onClose(!0)},color:"primary",autoFocus:!0},"Okay"))))}var Xe=a(233),Ge=a(673),Ue=a(661),Ye=a(674);a(308);function qe(e){var t=l.a.useState(""==e.initialVal?"isChecked_op_bed":e.initialVal),a=Object(Xe.a)(t,2),n=a[0],o=a[1];return l.a.createElement("div",{className:"filterContainer"},l.a.createElement(Ye.a,{"aria-label":"gender",name:"gender1",value:n,onChange:function(t){o(t.target.value),e.handleRadioChange(t.target.value)}},l.a.createElement(Ue.a,{value:"isChecked_op_bed",control:l.a.createElement(Ge.a,{color:"primary"}),label:"More vacancy of COVID beds"}),l.a.createElement(Ue.a,{value:"isChecked_op_hospital",control:l.a.createElement(Ge.a,{color:"primary"}),label:"Hospitals nearer to your current location"})))}var Qe=a(226),$e=a.n(Qe),et=a(665),tt=(a(309),a(310),a(662)),at=(a(587),function(){return l.a.createElement(tt.a,{position:"static",className:"Header"},l.a.createElement(u.a,{maxWidth:"md"},l.a.createElement("div",{id:"back-to-top-anchor"},l.a.createElement(p.a,{variant:"h6",gutterBottom:!0},l.a.createElement("span",{className:"logoHolderText2 "},"COVID19"),l.a.createElement("span",{className:"logoHolderText"},"HospitalTracker")))))}),nt=a(677),lt=a(224),ot=a.n(lt),st=a(225),it=a.n(st),rt=a(223),ct=a.n(rt),dt=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleCancel=function(){n.setState({selectedTags:Object.assign([],n.props.selectedList),leftTags:Object.assign([],n.props.totalList)},(function(){return n.props.onClose("","cancel")}))},n.handleFilterChange=function(e,t){if("del"==e){var a=n.state.selectedTags;a.splice(a.findIndex((function(e){return e==t})),1),n.setState({selectedTags:a,leftTags:n.state.leftTags.concat(t)})}else{var l=n.state.leftTags;l.splice(l.findIndex((function(e){return e==t})),1),n.setState({selectedTags:n.state.selectedTags.concat(t),leftTags:l})}},n.handleDelete=function(e,t){return n.handleFilterChange(e,t)},n.state={selectedTags:[],leftTags:[]},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.setState({selectedTags:this.props.selectedList,leftTags:this.props.totalList})}},{key:"render",value:function(){var e=this;return l.a.createElement(ie.a,{fullScreen:!0,open:this.props.open,onClose:this.props.onclose,"aria-labelledby":"Select Hospital Zones","aria-describedby":"Option to select Hospital Area Tags"},l.a.createElement(at,null),l.a.createElement("div",{className:"filterTagsHeader"},"Select Areas/ Zones"),l.a.createElement("div",{className:"filterTagsBody"},l.a.createElement("div",null,"You can select areas/zones to view COVID19 treatment providing hospitals of that area."),l.a.createElement("div",{className:"dividerHolder"},l.a.createElement(fe.a,null)),l.a.createElement("div",{className:"displayFlex headerTagLineDesc"},l.a.createElement("div",null,l.a.createElement(ct.a,{fontSize:"small"})),l.a.createElement("div",null,"Selected ",this.state.selectedTags.length," out of ",this.state.selectedTags.length+this.state.leftTags.length," Areas/Zones.")),l.a.createElement("div",{className:"chipsHolder"},this.state.selectedTags.sort().map((function(t,a){return l.a.createElement("div",{key:a,className:"chipsKey"},l.a.createElement(nt.a,{key:a,size:"small",label:t,color:"primary",onClick:function(){return e.handleFilterChange("del",t)},onDelete:function(){return e.handleDelete("del",t)},deleteIcon:l.a.createElement(ot.a,null)}))})),this.state.leftTags.sort().map((function(t,a){return l.a.createElement("div",{key:a,className:"chipsKey"},l.a.createElement(nt.a,{key:a,size:"small",label:t,color:"default",onClick:function(){return e.handleFilterChange("add",t)},onDelete:function(){return e.handleDelete("add",t)},deleteIcon:l.a.createElement(it.a,null)}))}))),l.a.createElement("div",{className:"dividerHolder displayEqual"},l.a.createElement(se.a,{variant:"contained",color:"primary",onClick:function(){return e.handleCancel()}},"Cancel"),l.a.createElement(se.a,{variant:"contained",color:"primary",onClick:function(){return e.props.onClose(e.state.selectedTags,"")}},"Apply Selection"))))}}]),a}(l.a.Component),mt=a(664);function pt(e){return 1==e.open?l.a.createElement(ie.a,{open:e.open,onClose:e.handleAlertClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(ce.a,null,l.a.createElement(mt.a,null))):null}var ut=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).tagAction={add:"plus",remove:"cross"},e.modalContent={body:"",headerTitle:""},e.filterContent={body:"",header:""},e.sortOptions="",e.finalResult=[],e.completeHospitalData=[],e.org_selectedHospital=[],e.prepareSearchEngine=function(){var t=[];Object.keys(e.props.hospitalLocationKeyMap).forEach((function(a){e.props.hospitalLocationKeyMap[a].forEach((function(a){e.org_selectedHospital.push(a),e.completeHospitalData[a.h_name]&&e.completeHospitalData[a.h_name].name!=a.h_name?t.push(Object(P.a)({},a.h_name,[a.h_name,e.completeHospitalData[a.h_name].name])):t.push(Object(P.a)({},a.h_name,[a.h_name]))}))})),e.setState({searchEngine:t})},e.getSearchResults=function(){var t=[],a=[];e.state.searchEngine.filter((function(t){return 0!=t[Object.keys(t)[0]].filter((function(t){return t.toLowerCase().includes(e.state.searchText.toLowerCase())})).length})).forEach((function(e){return t.push(Object.keys(e)[0])})),t.forEach((function(t){a.push(e.org_selectedHospital.filter((function(e){return e.h_name.includes(t)}))[0])})),a=Object(E.a)(new Set(a)),e.setState({selectedHospitalList:a})},e.handleAddRemoveFilter=function(t,a){if("plus"==a){if(e.props.hospitalLocationKeyMap[t]){e.state.selectedZones.push(t);var n=e.state.selectedZones;e.state.totalZones;e.setState({selectedHospitalList:Object.assign([],e.state.selectedHospitalList.concat(e.props.hospitalLocationKeyMap[t])),selectedZones:Object.assign([],n)})}}else{e.state.selectedZones.splice(e.state.selectedZones.findIndex((function(e){return e==t})),1);var l=e.state.selectedZones;e.setState({selectedHospitalList:Object.assign([],e.state.selectedHospitalList.filter((function(e){return e.h_zone!==t}))),selectedZones:Object.assign([],l)})}},e.handleOpenModal=function(){e.setState({openModal:!0,openZoneBackDrop:!1})},e.handleCloseModal=function(){e.setState({openModal:!1}),e.modalContent.headerTitle="",e.modalContent.body=""},e.handleCloseAlert=function(t){e.setState({openFilteralert:!1}),t&&e.sortData()},e.handleOpenFilter=function(){e.filterContent.header="You can sort hospitals based on :",e.filterContent.body=l.a.createElement(qe,{initialVal:e.sortOptions,handleRadioChange:function(t){return e.handleSwitchChange(t)}}),e.setState({openFilteralert:!0})},e.handleSwitchChange=function(t){e.sortOptions=t},e.sortData=function(){var t=[];t="isChecked_op_hospital"==e.sortOptions?e.state.selectedHospitalList.sort((function(e,t){return Number(e.h_dist)-Number(t.h_dist)})):e.state.selectedHospitalList.sort((function(e,t){return t.c_bed-e.c_bed})),e.setState({selectedHospitalList:t})},e.handleHospitalDetailsPre=function(t,a,n,l){e.setState({openZoneBackDrop:!0},(function(){return e.handleHospitalDetails(t,a,n,l)}))},e.handleHospitalDetails=function(t,a,n,l){e.completeHospitalData[t]?(e.createHospitalDetailModayBody(e.completeHospitalData[t],n,l),e.handleOpenModal()):B(x.getPlaceDetails,t+","+a+",West Bengal,India"+"&inputtype=textquery&fields=place_id").then((function(e){return 0!=e.candidates.length?e.candidates[0].place_id+"&fields=name,geometry,photos,rating,adr_address,business_status,formatted_address,formatted_phone_number,international_phone_number,opening_hours,website,price_level,rating,review,user_ratings_total":""}),(function(e){console.log("HospitalZoneComponent+ First call====p_id-=====ERROR !!!!!!")})).then((function(e){return B(x.getHospitalCompleteDetails,e)})).then((function(a){""!=a&&void 0!=a?(e.completeHospitalData[t]=a.result,e.createHospitalDetailModayBody(e.completeHospitalData[t],n,l),e.handleOpenModal()):(e.createHospitalDetailModayBody(t,n,l),e.handleOpenModal())}),(function(e){console.log("HospitalZoneComponent+ Second call====details-=====ERROR !!!!!!")}))},e.checkStatus=function(e){return console.log(e),e.ok?Promise.resolve(e):Promise.reject(new Error(e.statusText))},e.parseJSON=function(e){return e.json()},e.createHospitalDetailModayBody=function(t,a,n){var o;"string"==typeof t?(o=l.a.createElement(Ke,{c_bed:a,h_dist:n}),e.modalContent.headerTitle=t):(o=l.a.createElement(Ke,{data:t,c_bed:a,h_dist:n}),e.modalContent.headerTitle=t.name),e.modalContent.body=o},e.handleExpansionContraction=function(t){var a=document.getElementById(t);"cont_FilterHospitalZones"==t?e.setState({cont_FilterHospitalZones:!e.state.cont_FilterHospitalZones}):e.setState({cont_SelectedHospitalZones:!e.state.cont_SelectedHospitalZones}),a.classList.contains("excerpt-hidden")?a.classList.remove("excerpt-hidden"):a.classList.add("excerpt-hidden"),a.classList.contains("excerpt-visible")?a.classList.remove("excerpt-visible"):a.classList.add("excerpt-visible")},e.preparePostSearchSelectedZoneHospitalList=function(){var t=[];e.state.selectedZones.forEach((function(a){e.props.hospitalLocationKeyMap[a]&&e.props.hospitalLocationKeyMap[a].forEach((function(e){return t.push(e)}))})),e.setState({selectedHospitalList:t})},e.handleSearchEngine=function(t){""!=t.target.value.trim()?e.setState({searchText:t.target.value},(function(){return e.getSearchResults()})):e.setState({searchText:""},(function(){return e.preparePostSearchSelectedZoneHospitalList()}))},e.handleOpenAreaTags=function(){e.setState({areaTagsOption:!0})},e.handleCloseAreaTags=function(t,a){if(e.setState({areaTagsOption:!1,searchText:""},(function(){return e.preparePostSearchSelectedZoneHospitalList()})),""==a){var n=[];t.forEach((function(t){e.props.hospitalLocationKeyMap[t]&&(n=n.concat(e.props.hospitalLocationKeyMap[t]))})),e.setState({selectedHospitalList:Object.assign([],n),selectedZones:Object.assign([],t)})}},e.state={selectedHospitalList:[],totalZones:[],selectedZones:[],description:"",openModal:!1,title:"",cont_FilterHospitalZones:!1,cont_SelectedHospitalZones:!1,searchText:"",searchEngine:null,openFilteralert:!1,areaTagsOption:!1,openZoneBackDrop:!1},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;B(x.getHospitalDetails,"").then((function(t){e.completeHospitalData=Object.assign({},t),console.log(e.props),e.setState({selectedHospitalList:Object.assign([],e.props.selectedHospitalList),selectedZones:Object.assign([],e.props.selectedHospitalZoneTags),totalZones:Object.assign([],Object.keys(e.props.hospitalLocationKeyMap))}),e.prepareSearchEngine()}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.totalZones.filter((function(t){return!e.state.selectedZones.includes(t)}));return l.a.createElement("div",null,l.a.createElement(S.a,{elevation:3,className:"transparentBorder",id:"containerHospitalList"},l.a.createElement("div",{className:"hospitalTitleContainer"},l.a.createElement("div",{className:"hospitalIconholder transparentBorder"},l.a.createElement($e.a,{fontSize:"large",color:"primary"})),l.a.createElement("div",{className:"hospitalTitleHolderContainer"},l.a.createElement("div",{className:"hospitalAvatar"},l.a.createElement(Re.a,{color:"secondary"})),l.a.createElement("div",null,l.a.createElement("div",null,"Hospitals Found (",this.state.selectedHospitalList.length,")*"),""==this.state.searchText?l.a.createElement("div",{className:"listNature"},"* based on your current location areas"):l.a.createElement("div",{className:"listNature"},"* based on Search Results")))),l.a.createElement("div",{className:"displayFlex searchBoxHospitalContainer shadowCustom"},l.a.createElement("div",{className:"searchIconHolder"},l.a.createElement(ze.a,null)),l.a.createElement("div",{className:"searchContainer w_100"},l.a.createElement(We.a,{type:"search",id:"outlined-textarea",value:this.state.searchText,className:"w_100",label:"Search Hospitals By Name",placeholder:"Find any COVID19 hospital ..",variant:"filled",onChange:function(t){return e.handleSearchEngine(t)}}))),l.a.createElement("div",{className:"customButtonGroup"},l.a.createElement(S.a,{variant:"outlined",square:!0},l.a.createElement("div",{className:"btnCol"},l.a.createElement(et.a,{variant:"contained",color:"primary","aria-label":"contained primary button group"},l.a.createElement(se.a,{className:"customButtonText",onClick:function(){return e.handleOpenAreaTags()}},"Filter by Area / Zones"),l.a.createElement(se.a,{className:"customButtonText",onClick:function(){return e.handleOpenFilter()}},"Manage View"))),""==this.state.searchText?l.a.createElement("div",null,l.a.createElement("div",{className:"tagHeaderTitle"},l.a.createElement(p.a,{color:"textSecondary"},l.a.createElement(Pe.a,{fontSize:"small"})),l.a.createElement(p.a,{color:"textSecondary"},"Selected Areas / Zones (",this.state.selectedZones.length,")")),l.a.createElement("div",null,l.a.createElement(w,{locationTags:this.state.selectedZones}))):null)),l.a.createElement(oe.a,null,l.a.createElement("div",{className:"hospitalListHoldContainer"},l.a.createElement(le,{selectedHospitalList:this.state.selectedHospitalList,onClick:function(t,a,n,l){return e.handleHospitalDetailsPre(t,a,n,l)}})),l.a.createElement("div",{className:"disclaimerHospital"},l.a.createElement("div",null,"* Data displayed is as per WB Government website"),l.a.createElement("div",null,"* Distances shown are tentative and may not be exactly accurate")))),0!=t.length&&0!=this.state.selectedZones.length?l.a.createElement(dt,{open:this.state.areaTagsOption,totalList:t,selectedList:this.state.selectedZones,onClose:function(t,a){return e.handleCloseAreaTags(t,a)}}):null,l.a.createElement(pe,{open:this.state.openModal,onClose:this.handleCloseModal,headerTitle:this.modalContent.headerTitle,body:this.modalContent.body}),l.a.createElement(Je,{open:this.state.openFilteralert,onClose:function(t){return e.handleCloseAlert(t)},header:this.filterContent.header,body:this.filterContent.body}),l.a.createElement(pt,{open:this.state.openZoneBackDrop}))}}]),a}(l.a.Component),ht=["postal_code","country"],gt=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).prepareLocationTags=function(){var t=e.props.arrayData.filter((function(e){return!e.types.some((function(e){return ht.includes(e)}))}));e.setState({locationTags:Object(E.a)(new Set(t.map((function(e){return e.long_name})).filter((function(e){return"West Bengal"!==e}))))},(function(){return e.prepareSelectedZoneHospitalList()}))},e.prepareSelectedZoneHospitalList=function(){var t=[],a=[];e.state.locationTags.forEach((function(n){e.props.hospitalLocationKeyMap[n]&&(e.props.hospitalLocationKeyMap[n].forEach((function(e){return t.push(e)})),a.push(n))})),0==a.length&&(e.props.hospitalLocationKeyMap.Kolkata.forEach((function(e){t.push(e)})),a.push("Kolkata")),e.setState({selectedHospitalList:t,selectedHospitalZoneTags:a})},e.state={locationTags:[],selectedHospitalList:[],selectedHospitalZoneTags:[]},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.prepareLocationTags()}},{key:"render",value:function(){return l.a.createElement("div",null,0!=this.state.selectedHospitalZoneTags.length&&0!=this.state.selectedHospitalList.length?l.a.createElement(ut,{selectedHospitalZoneTags:this.state.selectedHospitalZoneTags,selectedHospitalList:this.state.selectedHospitalList,hospitalLocationKeyMap:this.props.hospitalLocationKeyMap}):null)}}]),a}(l.a.Component),_t=a(594),ft=(a(588),a(667)),yt=a(230),vt=a.n(yt),Et=a(231),bt=a.n(Et),Ct=l.a.forwardRef((function(e,t){return l.a.createElement(ft.a,Object.assign({direction:"up",ref:t},e))}));function Nt(e){return l.a.createElement("div",{id:"welcomeDialogue"},l.a.createElement(ie.a,{fullScreen:!0,open:e.open,TransitionComponent:Ct,onClose:e.handleAlertClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement("div",{className:"LocationblockedContainer"},l.a.createElement(u.a,{maxWidth:"xs"},l.a.createElement("div",{className:"LocationBlockBody"},l.a.createElement("div",{className:"displayFlex justifyCenter"},l.a.createElement("div",{className:"IconContainer"},l.a.createElement(vt.a,{fontSize:"large"}),l.a.createElement(bt.a,{fontSize:"large"})),l.a.createElement("h2",null,"OOPS !")),l.a.createElement("div",{className:"displayFlex justifyCenter"},"It appears you have denied permission for accessing your device location or somehow HospitalTracker has been added to Denied-Permission list in your browser."),l.a.createElement("br",null),l.a.createElement("div",null,'To change this, you can click on this icon over your bowser and select "Manage", delete http:www.abc.com from "Block" list and then refresh the page.It will again ask for your permission.'),l.a.createElement("br",null),l.a.createElement("div",null,"Alternatively, if you do not wish to disclose your device location, you can manually type in your desired location address,and proceed along."),l.a.createElement("div",null,l.a.createElement(se.a,{variant:"contained",color:"primary",onClick:function(){return e.onClose()}},"Okay, I Understand")))))))}a(589);var kt=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(P.a)({},t,a))},n.state={locality:"",district:"",pin:"",state:"West Bengal",country:"India"},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(ie.a,{fullScreen:!0,open:this.props.open,onClose:this.props.handleAlertClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(at,null),l.a.createElement(u.a,null,l.a.createElement("div",{className:"shadowCustom locBodyHolder"},l.a.createElement(S.a,{elevation:3},l.a.createElement("div",{className:"locPromptheader"},"Provide address details"),l.a.createElement("div",{className:"locPromptbody"},l.a.createElement("div",null,"We can trace your current location based on the address details you provide.But for more accuracy, we strongly insist you to enable device-location permission in your device."),l.a.createElement("div",{className:"textFieldContainer"},l.a.createElement(We.a,{className:"w_100",id:"standard-multiline-static",name:"locality",value:this.state.locality,onChange:function(t){return e.handleInputChange(t)},label:"Your locality",multiline:!0,rows:4})),l.a.createElement("div",{className:"textFieldContainer"},l.a.createElement(We.a,{className:"w_100",id:"standard-basic",name:"district",value:this.state.district,onChange:function(t){return e.handleInputChange(t)},label:"District"})),l.a.createElement("div",{className:"textFieldContainer"},l.a.createElement(We.a,{className:"w_100",id:"standard-basic",name:"pin",value:this.state.pin,onChange:function(t){return e.handleInputChange(t)},type:"number",label:"Pin Code"})),l.a.createElement("div",{className:"textFieldContainer"},l.a.createElement(We.a,{className:"w_100",id:"standard-read-only-input",label:"State",defaultValue:"West Bengal",InputProps:{readOnly:!0}})),l.a.createElement("div",{className:"textFieldContainer"},"* Currently we are only supporting this application within West Bengal"),l.a.createElement("div",{className:"textFieldContainer"},l.a.createElement(se.a,{variant:"contained",color:"primary",onClick:function(){return e.props.onClose(e.state)}},"Submit Location Details")))))))}}]),a}(l.a.Component);a(590);function Lt(e){return l.a.createElement("div",{id:"welcomeDialogue"},l.a.createElement(ie.a,{fullWidth:!0,open:e.open,style:{backgroundColor:"#5264ca",color:"white"},onClose:e.handleAlertClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(ce.a,{style:{backgroundColor:"#3b87ff"},id:"welcomeContent"},l.a.createElement("div",{className:"headerImageContainer"},l.a.createElement("div",{className:"headerImageHolder"}),l.a.createElement("div",{className:"animatorTest"},l.a.createElement("div",{className:"headerImageFiller"},l.a.createElement("div",{className:"headerImageFillerInner"}))),l.a.createElement("div",{className:"welcomeNote"}," Hello !")),l.a.createElement("div",{className:"welcomeContent"},l.a.createElement("div",{className:"welcomeBodyContent"},l.a.createElement("div",{className:"div_0"},l.a.createElement("strong",null,"Lets Stand Strong Together. ")),l.a.createElement("div",{className:"div_1"},l.a.createElement("strong",null,l.a.createElement("span",{className:"NameHolder"},"COVID19 HospitalTracker")),"is a mobile-friendly web app designed specifically to help you tackle the tough times of COVID19.",l.a.createElement("br",null),"This web-app helps you in tracking hospitals providing care for COVID19 patients based on your location."),l.a.createElement("div",{className:"div_2"}," To aid you in the best way,enable permission to access your device location when prompted."),"Stay safe."))),l.a.createElement(re.a,{style:{backgroundColor:"#3b87ff"}},l.a.createElement("div",{className:"btn_Container"},l.a.createElement(se.a,{onClick:function(){return e.onClose(!0)},color:"primary",variant:"contained"},"Proceed")))))}var St=Object(y.a)((function(e){return{root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}));function Tt(e){var t=e.children,a=St(),n=Object(v.a)({disableHysteresis:!0,threshold:100});return l.a.createElement(f.a,{in:n},l.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:a.root},t))}var Ot=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).locationCoordinates={lat:null,long:null},n.hospitalList=[],n.hospitalLocationKeyMap={},n.prepareHospitalData=function(){B(x.getHospitalCodes,"").then((function(e){var t=e.filter((function(e){return Object.keys(e).length>=4})).filter((function(e){return 0!=e.vacant&&"string"!==typeof e.vacant}));n.hospitalList=Object.assign([],t)})).then((function(){return B(x.getHospitalDetails,"")})).then((function(e){n.arrangeHospitalKeyMap(e)}))},n.getLocationTrack=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){e.coords.latitude!=n.state.locationCoordinates_lat&&e.coords.longitude!=n.state.locationCoordinates_long&&(console.log(e.coords.latitude),n.getFormattedAddress(e.coords.latitude,e.coords.longitude))}),(function(e){"Timeout expired"==e.message?(n.handleBackDropClose(),n.getFormattedAddress(22.5815353,88.466984)):(n.handleBackDropClose(),n.setState({openLocationAlert:!0}))}),{maximumAge:6e4,timeout:5e3,enableHighAccuracy:!0})},n.searchGoogleForUserDetails=function(e){var t=e.locality+","+e.district+","+e.pin+",West Bengal,India";B(x.getPlaceDetails,t+"&inputtype=textquery&fields=formatted_address,geometry").then((function(t){if(0!=t.candidates.length){localStorage.setItem("CV19Tracker_lat",t.candidates[0].geometry.location.lat),localStorage.setItem("CV19Tracker_long",t.candidates[0].geometry.location.lng);var a=[],l=t.candidates[0].formatted_address.split(",");l.pop(),l=l.forEach((function(e){a.push({long_name:e.trim(),short_name:e.trim(),types:["political","sublocality","sublocality_level_1"]})})),n.setState({formattedAddress:t.candidates[0].formatted_address,compoundAddress:"",addressComponents:Object.assign([],a),locationCoordinates_lat:t.candidates[0].geometry.location.lat,locationCoordinates_long:t.candidates[0].geometry.location.lng},(function(){return n.handleBackDropClose()}))}else{var o=[],s=e.locality.split(" ");s.push(e.district),s=s.forEach((function(e){o.push({long_name:e.trim(),short_name:e.trim(),types:["political","sublocality","sublocality_level_1"]})}));var i=e.locality+","+e.district+", pin -"+e.pin;n.setState({formattedAddress:i,compoundAddress:"",addressComponents:Object.assign([],o),locationCoordinates_lat:0,locationCoordinates_long:0},(function(){return n.handleBackDropClose()}))}}),(function(t){var a=[],l=e.locality.split(" ");l.push(e.district),l=l.forEach((function(e){a.push({long_name:e.trim(),short_name:e.trim(),types:["political","sublocality","sublocality_level_1"]})}));var o=e.locality+","+e.district+", pin -"+e.pin;n.setState({formattedAddress:o,compoundAddress:"",addressComponents:Object.assign([],a),locationCoordinates_lat:0,locationCoordinates_long:0},(function(){return n.handleBackDropClose()}))}))},n.getFormattedAddress=function(e,t){if(localStorage.getItem("CV19Tracker_lat")&&localStorage.getItem("CV19Tracker_long")&&localStorage.getItem("CV19Tracker_detail")&&Number(localStorage.getItem("CV19Tracker_lat"))==e&&Number(localStorage.getItem("CV19Tracker_long"))==t){var a=JSON.parse(localStorage.getItem("CV19Tracker_detail"));n.setState({formattedAddress:a.formatted_address,compoundAddress:"",addressComponents:Object.assign([],a.address_components),locationCoordinates_lat:a.geometry.location.lat,locationCoordinates_long:a.geometry.location.lng},(function(){return n.handleBackDropClose()}))}else B(x.getUserCurrentLocation,e+","+t).then((function(e){0!=e.results.length?(localStorage.setItem("CV19Tracker_lat",e.results[0].geometry.location.lat),localStorage.setItem("CV19Tracker_long",e.results[0].geometry.location.lng),localStorage.setItem("CV19Tracker_detail",JSON.stringify(e.results[0])),n.setState({formattedAddress:e.results[0].formatted_address,compoundAddress:e.plus_code.compound_code,addressComponents:Object.assign([],e.results[0].address_components),locationCoordinates_lat:e.results[0].geometry.location.lat,locationCoordinates_long:e.results[0].geometry.location.lng},(function(){return n.handleBackDropClose()}))):(localStorage.setItem("CV19Tracker_lat",A[0].geometry.location.lat),localStorage.setItem("CV19Tracker_long",A[0].geometry.location.lng),localStorage.setItem("CV19Tracker_detail",JSON.stringify(A[0])),n.setState({formattedAddress:A[0].formatted_address,compoundAddress:j.compound_code,addressComponents:Object.assign([],A[0].address_components),locationCoordinates_lat:A[0].geometry.location.lat,locationCoordinates_long:A[0].geometry.location.lng},(function(){return n.handleBackDropClose()})))}),(function(a){n.setState({formattedAddress:A[0].formatted_address,compoundAddress:j.compound_code,addressComponents:Object.assign([],A[0].address_components),locationCoordinates_lat:e,locationCoordinates_long:t},(function(){return n.handleBackDropClose()}))}))},n.handleCloseWelcomeAlert=function(e){n.setState({openWelcomeAlert:!1,openBackDrop:!0},(function(){return n.getLocationTrack()}))},n.handleCloseLocationAlert=function(e){n.setState({openLocationAlert:!1},(function(){return n.setState({openLocationOptionAlert:!0})}))},n.handleCloseLocationOptionAlert=function(e){n.setState({openLocationOptionAlert:!1,openBackDrop:!0},(function(){return n.searchGoogleForUserDetails(e)}))},n.handleBackDropClose=function(){n.setState({openBackDrop:!1})},n.state={locationCoordinates_lat:null,locationCoordinates_long:null,formattedAddress:"",compoundAddress:"",addressComponents:[],hospitalDataPrep:!1,openWelcomeAlert:!1,openBackDrop:!1,openLocationAlert:!1,openLocationOptionAlert:!1},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({openWelcomeAlert:!0},(function(){return e.prepareHospitalData()}))}},{key:"arrangeHospitalKeyMap",value:function(e){for(var t=e,a={},n=0,l=this.hospitalList.length-1;this.hospitalList.length,l>=this.hospitalList.length/2;n++,l--)a[this.hospitalList[n].district]?a[this.hospitalList[n].district].push({h_name:this.hospitalList[n].name,c_bed:this.hospitalList[n].vacant,h_zone:this.hospitalList[n].district,h_loc:t[this.hospitalList[n].name]&&t[this.hospitalList[n].name].geometry?t[this.hospitalList[n].name].geometry.location:"",h_dist:""}):a[this.hospitalList[n].district]=[{h_name:this.hospitalList[n].name,c_bed:this.hospitalList[n].vacant,h_zone:this.hospitalList[n].district,h_loc:t[this.hospitalList[n].name]&&t[this.hospitalList[n].name].geometry?t[this.hospitalList[n].name].geometry.location:"",h_dist:""}],a[this.hospitalList[l].district]?a[this.hospitalList[l].district].push({h_name:this.hospitalList[l].name,c_bed:this.hospitalList[l].vacant,h_zone:this.hospitalList[l].district,h_loc:t[this.hospitalList[l].name]&&t[this.hospitalList[l].name].geometry?t[this.hospitalList[l].name].geometry.location:"",h_dist:""}):a[this.hospitalList[l].district]=[{h_name:this.hospitalList[l].name,c_bed:this.hospitalList[l].vacant,h_zone:this.hospitalList[l].district,h_loc:t[this.hospitalList[l].name]&&t[this.hospitalList[l].name].geometry?t[this.hospitalList[l].name].geometry.location:"",h_dist:""}];a["North 24 Parganas"]=Object.assign([],a["N-24 Pgs"].concat(a["North 24 Pgs"])),delete a["N-24 Pgs"],delete a["North 24 Pgs"],a["North 24 Parganas"].forEach((function(e){return e.h_zone="North 24 Parganas"})),Object.keys(a).forEach((function(e){a[e].forEach((function(e){}))})),this.hospitalLocationKeyMap=a}},{key:"render",value:function(){var e=this;return console.log("rendered"),l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,null),l.a.createElement(at,null),l.a.createElement(u.a,{maxWidth:"md"},l.a.createElement(p.a,{component:"div",className:"App"},null!=this.state.locationCoordinates_lat&&0!==this.state.addressComponents.length?l.a.createElement(M,{addressDetails:this.state}):"Location display null",0!==this.state.addressComponents.length?l.a.createElement(gt,{arrayData:this.state.addressComponents,hospitalLocationKeyMap:this.hospitalLocationKeyMap}):""),l.a.createElement(Lt,{open:this.state.openWelcomeAlert,onClose:function(t){return e.handleCloseWelcomeAlert(t)}}),l.a.createElement(Nt,{open:this.state.openLocationAlert,onClose:function(t){return e.handleCloseLocationAlert(t)}}),l.a.createElement(kt,{open:this.state.openLocationOptionAlert,onClose:function(t){return e.handleCloseLocationOptionAlert(t)}})),l.a.createElement(_t.a,{open:this.state.openBackDrop,style:{backgroundColor:"#183259"}},l.a.createElement("div",{className:"loadTrackerWelcome"},l.a.createElement("div",{className:"loaderContainer"},l.a.createElement(mt.a,null)),l.a.createElement("div",{className:"loaderTextContainer"},"Please wait while we trace your current location .."))),l.a.createElement(Tt,null,l.a.createElement(h.a,{color:"default",size:"small","aria-label":"scroll back to top",className:"o_9"},l.a.createElement(_.a,null))))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Ot,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[255,1,2]]]);
//# sourceMappingURL=main.2b2cb051.chunk.js.map